//=============================================================================
//	Project			:	GPS
//	Version			:	V1.0
//	File				:	usart.h
//	Author			:	eonegh
//	Date				:	2023-04-20
//	Controller	:	STM32F103C6T6
//	IDE					:	Keil uVision5 V5.36.0.0
//	Compiler		:	eonegh
//	Brief				:	UART2功能API，用于与GPS模块通信
//=============================================================================
 
/******************************************************************************/
/* 条件编译（'#ifndef'）                                                        */
/******************************************************************************/ 
#ifndef __USART2_H__
#define __USART2_H__


/******************************************************************************/
/* 引用的头文件（'.h'）                                                        */
/******************************************************************************/
#include "sys.h" 


/******************************************************************************/
/* 全局预处理/宏定义 ('#define')                                               */
/******************************************************************************/
#define USART2_REC_LEN		500					//指定接收数据的长度（字节数），不包含结束标识符0x0D及0x0A

#define USART2_PORT				GPIOA				//指定串口2的端口号，取值GPIOA、GPIOB、GPIOC、GPIOD、GPIOE等
#define USART2_TXD_PIN		GPIO_Pin_2	//指定串口2的TXD引脚号，取值0、1、2、3、...、15
#define USART2_RXD_PIN		GPIO_Pin_3	//指定串口2的RXD引脚号，取值0、1、2、3、...、15


/******************************************************************************/
/* 全局类型定义 ('typedef')                                                    */
/******************************************************************************/




/******************************************************************************/
/* 全局变量声明 ('extern'、'static'、'volatile'、'const')                      */
/******************************************************************************/
extern u8		USART2_RX_BUF[USART2_REC_LEN];	//接收缓冲，最大USART1_REC_LEN个字节，不包含结束标识符0x0D及0x0A
extern u16	USART2_RX_STA;									//接收状态标记。bit15，接收完成标志。bit14，接收到0x0d。bit13~0，接收到的有效字节数目



/******************************************************************************/
/* 局部变量声明 ('static'、'volatile'、'const')                                */
/******************************************************************************/



/******************************************************************************/
/* 全局函数声明 ('extern')                                                     */
/******************************************************************************/
extern void USART2_PinConfig(void);	//串口2的引脚配置
extern void USART2_Init(u32 bound);	//串口2的自身参数及中断配置
extern void USART2_SendData(float data_frame[],u16 len);

#endif


/******************************************************************************/
/* EOF (not truncated)                                                        */
/******************************************************************************/
